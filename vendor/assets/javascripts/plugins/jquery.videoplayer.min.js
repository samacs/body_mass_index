!function(e){"use strict";function t(t,o,a){"play"!=a.play&&(a.play="play "+a.play),"pause"!=a.pause&&(a.pause="pause "+a.pause),this.path=o,this.config=e.extend({},s,a),this.element=t,this.init()}var s={useVide:!0,position:"0% 50%",autoplay:!1,posterType:"jpg",play:"play",pause:"pause"};t.prototype.init=function(){var t,s=e(this.element),o=this.config.play,a=this.config.pause;this.config.autoplay&&s.addClass("autoplay"),t=this.config.useVide?this.playVide(s):this.selfVideo(s);var i=e("<i/>",{class:o}),n=e("<div/>",{class:"video-controls",html:i});e(t).on("play",function(){n.hasClass("started")||n.addClass("started"),i.addClass(a).removeClass(o)}).on("pause",function(){i.removeClass(a).addClass(o)}).on("ended",function(){i.removeClass(a).addClass(o)}).parent().after(n),i.on("click",function(){e(this).hasClass(a)?t.pause():t.play()})},t.prototype.playVide=function(e){return e.vide(this.path,this.config),e.data("vide").getVideoObject()},t.prototype.selfVideo=function(t){var s=this.path,o=this.config.autoplay,a=e("<img/>",{src:s+"."+this.config.posterType});a.appendTo(t);var i=e('<video loop><source src="'+s+'.mp4" type="video/mp4"><source src="'+s+'.webm" type="video/webm"><source src="'+s+'.ogv" type="video/ogg">Sorry, your browser does not support HTML5 video.</video>');i.appendTo(t),o||i.hide().on("play",function(){a.hide(),i.show()});var n="false";t.one("canplaythrough","video",function(){n="true"});var p=setInterval(function(){n&&(o&&(i.show().get(0).play(),a.css({display:"none"})),clearInterval(p))},500);return i.get(0)},e.fn.videoplayer=function(e,s){return"object"==typeof e&&(s=e,e=this.data("video")),this.each(function(){new t(this,e,s)})}}(jQuery);